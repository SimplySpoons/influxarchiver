<div id="vehicleDetailsModal" [config]="{ show: true, backdrop: false }" [@dialog]="state" (onHidden)="closeVehicleInfo()" bsModal #autoShownModal="bs-modal" class="modal custom-fade-in-left" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-container">
      <button type="button" class="btn-danger modal-close-btn close" (click)="closeVehicleInfo()" aria-label="Close">
        <span class="icon modal-close-icon ">&times;</span>
        <span class="modal-close-text">Close</span>
      </button>
      <div class="modal-header">
        <h4 class="modal-title pull-left">{{item.year}} {{item.make}} {{item.model}} {{item.trim}}</h4>
      </div>
      <div class="modal-body">

        <div id="vehicleMediaContainer" [ngClass]="{ 'expanded': isImageContainerExpanded, 'collapsed': !isImageContainerExpanded }" class="modal-section" (click)="toggleState()">
          <div class="single-vehicle-images-heading">
            <h5>Vehicle Images</h5>
          </div>
          <div class="vehicle-images">
            <div class="vehicle-image" *ngFor="let image of item.image">
              <img [src]="getImageSrc(image,item.accountId)" onerror='this.src="../assets/no_image.jpg"' />
            </div>
          </div>
        </div>

        <div id="vehiclePricingContainer" class="modal-section">
          <div class="single-vehicle-vehicle-pricing">
            <div class="single-vehicle-pricing-heading">
              <h5>Pricing Data</h5>
            </div>
            <span class="pricing">retailValue:</span> {{item.retailValue}} <br> <span class="pricing">invoicePrice:</span> {{item.invoicePrice}} <br> <span class="pricing">askingPrice:</span> {{item.askingPrice}}
            <br> <span class="pricing">wholesalePrice:</span> {{item.wholesalePrice}} <br> <span class="pricing">internetPrice:</span> {{item.internetPrice}} <br> <span class="pricing">msrp:</span> {{item.msrp}}
            <br> salePrice: {{item.salePrice}}
          </div>
        </div>
        <div id="vehicleOverviewContainer" class="modal-section">
          <div class="single-vehicle-details-heading">
            <h5>Vehicle Overview</h5>
          </div>
          <div class="single-vehicle-overview">
            <ul>
              <li><span class="vehicle-overview-label">Location:</span><span class="vehicle-overview-value">{{item.accountId}}</span></li>
              <li><span class="vehicle-overview-label">Stock #:</span><span class="vehicle-overview-value">{{item.stockNumber}}</span></li>
              <li><span class="vehicle-overview-label">Status:</span><span class="vehicle-overview-value">{{item.status}}</span></li>
              <li><span class="vehicle-overview-label">Classification:</span><span class="vehicle-overview-value">{{item.className}}</span></li>
              <li><span class="vehicle-overview-label">Condition:</span><span class="vehicle-overview-value">{{item.condition}}</span></li>
              <li *ngIf="item.certified>0">
                <span class="vehicle-overview-label">Certified:</span><span class="vehicle-overview-value">Yes</span></li>
              <li><span class="vehicle-overview-label">Featured:</span><span class="vehicle-overview-value">{{item.featured}}</span></li>
              <li><span class="stock">Type:</span> <span class="type">{{item.type}}</span></li>
            </ul>
          </div>
        </div>
        <div id="vehicleDetailsContainer" class="modal-section">
          <div class="single-vehicle-details-heading">
            <h5>Vehicle Details</h5>
          </div>
          <div class="single-vehicle-info">
            <ul>
              <li><span class="vin">VIN:</span><span class="value"> {{item.vin}}</span></li>
              <li><span class="stock">Year:</span><span class="value"> {{item.year}}</span></li>
              <li><span class="stock">Make:</span><span class="value"> {{item.make}}</span></li>
              <li><span class="stock">Model:</span><span class="value"> {{item.model}}</span></li>
              <li><span class="stock">Trim:</span><span class="value"> {{item.trim}}</span></li>
              <li><span class="stock">Odometer:</span><span class="value"> {{item.mileage}}</span></li>
              <li><span class="stock">Transmission:</span><span class="value"> {{item.transmission}}</span></li>
              <li><span class="stock">Driveline:</span><span class="value"> {{item.driveline}}</span></li>
              <li><span class="stock">Engine:</span><span class="value"> {{item.engine}}</span></li>
              <li><span class="stock">Engine Size:</span><span class="value"> {{item.engineSize}}</span></li>
              <li><span class="stock">Fuel Type:</span><span class="value"> {{item.fuel}}</span></li>
              <li><span class="stock">City MPG:</span><span class="value"> {{item.city_mpg}}</span></li>
              <li><span class="stock">Highway MPG:</span><span class="value"> {{item.highway_mpg}}</span></li>
            </ul>
          </div>
        </div>
        <div id="vehicleCommentsContainer" class="modal-section">
          <div class="single-vehicle-details-heading">
            <h5>Comments</h5>
          </div>
          <div class="comments"><span>Comments:</span><span class="value"> {{item.comments}}</span></div>
        </div>
      </div>
    </div>
  </div>
</div>
